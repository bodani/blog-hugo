---
title: " ERROR 2013 (HY000): Lost connection to MySQL server during query "
date: 2018-11-14T10:08:02+08:00
draft: false
---

#### ERROR 2013 (HY000) Lost connection to MySQL server during query  错误出现场景 

```
select count(id) from account_user where id> 0; 
+----------+
| count(id) |
+----------+
|  2940245 |
+----------+
1 row in set (0.78 sec)

delete from account_user where id> 0; 
ERROR 2013 (HY000): Lost connection to MySQL server during query

```
tikv.log 

```
2018/11/14 09:39:54.049 apply.rs:1034: [INFO] [region 77863] 77866 remove 90755 from region:id: 77863 start_key: "t\200\000\000\000\000\000\023\377\021_r\200\000\000\000\000\377.\360\371\000\000\000\000\000\372" end_key: "t\200\000\000\000\000\000\023\377\023\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 274 version: 1135} peers {id: 77865 store_id: 7783} peers {id: 77866 store_id: 14379} peers {id: 77868 store_id: 13892} peers {id: 83512 store_id: 2} peers {id: 90755 store_id: 12914} peers {id: 91049 store_id: 1}
2018/11/14 09:39:54.414 pd.rs:437: [INFO] [region 1280] try to change peer RemoveNode id: 90880 store_id: 12914
2018/11/14 09:39:54.414 pd.rs:437: [INFO] [region 1280] try to change peer RemoveNode id: 90880 store_id: 12914
2018/11/14 09:39:54.415 peer.rs:1755: [INFO] [region 1280] 59301 propose conf change RemoveNode peer 90880
2018/11/14 09:39:54.415 peer.rs:1733: [INFO] [region 1280] 59301 there is a pending conf change, try later
2018/11/14 09:39:54.580 apply.rs:902: [INFO] [region 1280] 59301 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90880 store_id: 12914}} at [term: 11874, index: 12233]
2018/11/14 09:39:54.581 apply.rs:949: [INFO] [region 1280] 59301 exec ConfChange "RemoveNode", epoch: conf_ver: 188 version: 303
2018/11/14 09:39:54.581 apply.rs:1034: [INFO] [region 1280] 59301 remove 90880 from region:id: 1280 start_key: "t\200\000\000\000\000\000\003\377~\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\003\377\201\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 188 version: 303} peers {id: 59301 store_id: 14379} peers {id: 63387 store_id: 13892} peers {id: 70230 store_id: 7783} peers {id: 81189 store_id: 2} peers {id: 90880 store_id: 12914} peers {id: 91058 store_id: 1}
2018/11/14 09:39:54.582 store.rs:1464: [INFO] [region 1280] 59301 notify pd with change peer region id: 1280 start_key: "t\200\000\000\000\000\000\003\377~\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\003\377\201\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 189 version: 303} peers {id: 59301 store_id: 14379} peers {id: 63387 store_id: 13892} peers {id: 70230 store_id: 7783} peers {id: 81189 store_id: 2} peers {id: 91058 store_id: 1}
2018/11/14 09:39:54.582 store.rs:1025: [INFO] [region 1280] raft message MsgAppendResponse is stale, current conf_ver: 189 version: 303, ignore it
2018/11/14 09:41:42.930 endpoint.rs:404: [INFO] [region 77698] [slow-query] execute takes 1.883, wait takes Some(0.002), peer: "ipv4:10.1.88.87:49334", start_ts: 404267912663400449, table_id: 4881, scan_type: select (desc: Some(false)) [keys: 669680, hit: 669678, ranges: 1 (Some(start: "t\200\000\000\000\000\000\023\021_r\200\000\000\000\000)\215\276" end: "t\200\000\000\000\000\000\023\021_r\200\000\000\000\000.\360\371"))]
2018/11/14 09:41:43.528 endpoint.rs:404: [INFO] [region 77509] [slow-query] execute takes 2.482, wait takes Some(0.001), peer: "ipv4:10.1.88.87:49330", start_ts: 404267912663400449, table_id: 4881, scan_type: select (desc: Some(false)) [keys: 709796, hit: 709794, ranges: 1 (Some(start: "t\200\000\000\000\000\000\023\021_r\200\000\000\000\000\016\003v" end: "t\200\000\000\000\000\000\023\021_r\200\000\000\000\000\025\203\371"))]
2018/11/14 09:41:43.825 endpoint.rs:404: [INFO] [region 77664] [slow-query] execute takes 2.776, wait takes Some(0.004), peer: "ipv4:10.1.88.87:49332", start_ts: 404267912663400449, table_id: 4881, scan_type: select (desc: Some(false)) [keys: 687464, hit: 687462, ranges: 1 (Some(start: "t\200\000\000\000\000\000\023\021_r\200\000\000\000\000#\3203" end: "t\200\000\000\000\000\000\023\021_r\200\000\000\000\000)\215\276"))]
2018/11/14 09:41:43.983 endpoint.rs:404: [INFO] [region 77448] [slow-query] execute takes 2.931, wait takes Some(0.006), peer: "ipv4:10.1.88.87:49336", start_ts: 404267912663400449, table_id: 4881, scan_type: select (desc: Some(false)) [keys: 862356, hit: 862354, ranges: 1 (Some(start: "t\200\000\000\000\000\000\023\021_r\200\000\000\000\000\001u!" end: "t\200\000\000\000\000\000\023\021_r\200\000\000\000\000\010\tj"))]
2018/11/14 09:41:44.359 endpoint.rs:404: [INFO] [region 77463] [slow-query] execute takes 3.296, wait takes Some(0.017), peer: "ipv4:10.1.88.87:49338", start_ts: 404267912663400449, table_id: 4881, scan_type: select (desc: Some(false)) [keys: 727662, hit: 727660, ranges: 1 (Some(start: "t\200\000\000\000\000\000\023\021_r\200\000\000\000\000\010\tj" end: "t\200\000\000\000\000\000\023\021_r\200\000\000\000\000\016\003v"))]
2018/11/14 09:43:21.175 apply.rs:902: [INFO] [region 74964] 81393 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91063 store_id: 2}} at [term: 73, index: 140]
2018/11/14 09:43:21.176 apply.rs:949: [INFO] [region 74964] 81393 exec ConfChange "AddNode", epoch: conf_ver: 273 version: 1070
2018/11/14 09:43:21.176 apply.rs:991: [INFO] [region 74964] 81393 add peer id: 91063 store_id: 2 to region id: 74964 start_key: "t\200\000\000\000\000\000\022\377+\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377-\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 273 version: 1070} peers {id: 77256 store_id: 13892} peers {id: 78354 store_id: 7783} peers {id: 81393 store_id: 14379} peers {id: 85707 store_id: 1} peers {id: 90861 store_id: 12914}
2018/11/14 09:43:27.728 apply.rs:902: [INFO] [region 74964] 81393 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 85707 store_id: 1}} at [term: 73, index: 141]
2018/11/14 09:43:27.728 apply.rs:949: [INFO] [region 74964] 81393 exec ConfChange "RemoveNode", epoch: conf_ver: 274 version: 1070
2018/11/14 09:43:27.728 apply.rs:1034: [INFO] [region 74964] 81393 remove 85707 from region:id: 74964 start_key: "t\200\000\000\000\000\000\022\377+\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377-\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 274 version: 1070} peers {id: 77256 store_id: 13892} peers {id: 78354 store_id: 7783} peers {id: 81393 store_id: 14379} peers {id: 85707 store_id: 1} peers {id: 90861 store_id: 12914} peers {id: 91063 store_id: 2}
2018/11/14 09:44:49.259 apply.rs:902: [INFO] [region 1232] 61398 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91066 store_id: 2}} at [term: 12834, index: 13276]
2018/11/14 09:44:49.259 apply.rs:949: [INFO] [region 1232] 61398 exec ConfChange "AddNode", epoch: conf_ver: 217 version: 291
2018/11/14 09:44:49.259 apply.rs:991: [INFO] [region 1232] 61398 add peer id: 91066 store_id: 2 to region id: 1232 start_key: "t\200\000\000\000\000\000\003\377Z\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\003\377]\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 217 version: 291} peers {id: 61077 store_id: 12261} peers {id: 61398 store_id: 14379} peers {id: 69664 store_id: 13892} peers {id: 88174 store_id: 1} peers {id: 90858 store_id: 12914}
2018/11/14 09:44:49.259 pd.rs:437: [INFO] [region 76995] try to change peer AddNode id: 91067 store_id: 2
2018/11/14 09:44:49.260 peer.rs:1755: [INFO] [region 76995] 76999 propose conf change AddNode peer 91067
2018/11/14 09:44:49.267 apply.rs:902: [INFO] [region 76995] 76999 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91067 store_id: 2}} at [term: 7, index: 23]
2018/11/14 09:44:49.267 apply.rs:949: [INFO] [region 76995] 76999 exec ConfChange "AddNode", epoch: conf_ver: 271 version: 1109
2018/11/14 09:44:49.268 apply.rs:991: [INFO] [region 76995] 76999 add peer id: 91067 store_id: 2 to region id: 76995 start_key: "t\200\000\000\000\000\000\022\377\343\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377\345\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 271 version: 1109} peers {id: 76996 store_id: 12261} peers {id: 76998 store_id: 7783} peers {id: 76999 store_id: 14379} peers {id: 88908 store_id: 1} peers {id: 90916 store_id: 12914}
2018/11/14 09:44:49.293 pd.rs:437: [INFO] [region 3045] try to change peer AddNode id: 91070 store_id: 2
2018/11/14 09:44:49.293 peer.rs:1755: [INFO] [region 3045] 75670 propose conf change AddNode peer 91070
2018/11/14 09:44:49.298 store.rs:1464: [INFO] [region 76995] 76999 notify pd with change peer region id: 76995 start_key: "t\200\000\000\000\000\000\022\377\343\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377\345\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 272 version: 1109} peers {id: 76996 store_id: 12261} peers {id: 76998 store_id: 7783} peers {id: 76999 store_id: 14379} peers {id: 88908 store_id: 1} peers {id: 90916 store_id: 12914} peers {id: 91067 store_id: 2}
2018/11/14 09:44:49.299 apply.rs:902: [INFO] [region 3045] 75670 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91070 store_id: 2}} at [term: 11178, index: 11570]
2018/11/14 09:44:49.299 apply.rs:949: [INFO] [region 3045] 75670 exec ConfChange "AddNode", epoch: conf_ver: 193 version: 473
2018/11/14 09:44:49.299 apply.rs:991: [INFO] [region 3045] 75670 add peer id: 91070 store_id: 2 to region id: 3045 start_key: "t\200\000\000\000\000\000\006\377\263\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\006\377\266\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 193 version: 473} peers {id: 60915 store_id: 12261} peers {id: 71056 store_id: 13892} peers {id: 75670 store_id: 14379} peers {id: 79816 store_id: 1} peers {id: 90825 store_id: 12914}
2018/11/14 09:44:49.300 store.rs:1464: [INFO] [region 3045] 75670 notify pd with change peer region id: 3045 start_key: "t\200\000\000\000\000\000\006\377\263\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\006\377\266\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 194 version: 473} peers {id: 60915 store_id: 12261} peers {id: 71056 store_id: 13892} peers {id: 75670 store_id: 14379} peers {id: 79816 store_id: 1} peers {id: 90825 store_id: 12914} peers {id: 91070 store_id: 2}
2018/11/14 09:44:49.310 pd.rs:437: [INFO] [region 77107] try to change peer AddNode id: 91072 store_id: 1
2018/11/14 09:44:49.310 peer.rs:1755: [INFO] [region 77107] 77111 propose conf change AddNode peer 91072
2018/11/14 09:44:49.317 apply.rs:902: [INFO] [region 77107] 77111 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91072 store_id: 1}} at [term: 7, index: 35]
2018/11/14 09:44:49.317 apply.rs:949: [INFO] [region 77107] 77111 exec ConfChange "AddNode", epoch: conf_ver: 283 version: 1115
2018/11/14 09:44:49.317 apply.rs:991: [INFO] [region 77107] 77111 add peer id: 91072 store_id: 1 to region id: 77107 start_key: "t\200\000\000\000\000\000\022\377\365\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377\367\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 283 version: 1115} peers {id: 77108 store_id: 12261} peers {id: 77110 store_id: 7783} peers {id: 77111 store_id: 14379} peers {id: 86794 store_id: 2} peers {id: 90883 store_id: 12914}
2018/11/14 09:44:49.318 store.rs:1464: [INFO] [region 77107] 77111 notify pd with change peer region id: 77107 start_key: "t\200\000\000\000\000\000\022\377\365\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377\367\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 284 version: 1115} peers {id: 77108 store_id: 12261} peers {id: 77110 store_id: 7783} peers {id: 77111 store_id: 14379} peers {id: 86794 store_id: 2} peers {id: 90883 store_id: 12914} peers {id: 91072 store_id: 1}
2018/11/14 09:44:49.320 pd.rs:437: [INFO] [region 400] try to change peer AddNode id: 91073 store_id: 2
2018/11/14 09:44:49.321 peer.rs:1755: [INFO] [region 400] 68572 propose conf change AddNode peer 91073
2018/11/14 09:44:49.327 apply.rs:902: [INFO] [region 400] 68572 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91073 store_id: 2}} at [term: 12271, index: 12697]
2018/11/14 09:44:49.327 apply.rs:949: [INFO] [region 400] 68572 exec ConfChange "AddNode", epoch: conf_ver: 193 version: 83
2018/11/14 09:44:49.327 apply.rs:991: [INFO] [region 400] 68572 add peer id: 91073 store_id: 2 to region id: 400 start_key: "t\200\000\000\000\000\000\001\3776\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\001\3779\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 193 version: 83} peers {id: 63399 store_id: 13892} peers {id: 68572 store_id: 14379} peers {id: 69621 store_id: 12261} peers {id: 89425 store_id: 1} peers {id: 90778 store_id: 12914}
2018/11/14 09:44:49.355 store.rs:1464: [INFO] [region 400] 68572 notify pd with change peer region id: 400 start_key: "t\200\000\000\000\000\000\001\3776\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\001\3779\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 194 version: 83} peers {id: 63399 store_id: 13892} peers {id: 68572 store_id: 14379} peers {id: 69621 store_id: 12261} peers {id: 89425 store_id: 1} peers {id: 90778 store_id: 12914} peers {id: 91073 store_id: 2}
2018/11/14 09:44:49.356 apply.rs:902: [INFO] [region 6169] 68344 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91076 store_id: 2}} at [term: 16677, index: 17169]
2018/11/14 09:44:49.357 apply.rs:949: [INFO] [region 6169] 68344 exec ConfChange "AddNode", epoch: conf_ver: 197 version: 615
2018/11/14 09:44:49.357 apply.rs:991: [INFO] [region 6169] 68344 add peer id: 91076 store_id: 2 to region id: 6169 start_key: "t\200\000\000\000\000\000\t\377&\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\t\377)\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 197 version: 615} peers {id: 54163 store_id: 12261} peers {id: 68344 store_id: 14379} peers {id: 75932 store_id: 7783} peers {id: 90338 store_id: 1} peers {id: 90795 store_id: 12914}
2018/11/14 09:44:49.371 pd.rs:437: [INFO] [region 77463] try to change peer AddNode id: 91078 store_id: 2
2018/11/14 09:44:49.371 peer.rs:1755: [INFO] [region 77463] 77466 propose conf change AddNode peer 91078
2018/11/14 09:44:49.376 apply.rs:902: [INFO] [region 77463] 77466 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91078 store_id: 2}} at [term: 6, index: 17]
2018/11/14 09:44:49.377 apply.rs:949: [INFO] [region 77463] 77466 exec ConfChange "AddNode", epoch: conf_ver: 269 version: 1129
2018/11/14 09:44:49.377 apply.rs:991: [INFO] [region 77463] 77466 add peer id: 91078 store_id: 2 to region id: 77463 start_key: "t\200\000\000\000\000\000\023\377\021_r\200\000\000\000\000\377\010\tj\000\000\000\000\000\372" end_key: "t\200\000\000\000\000\000\023\377\021_r\200\000\000\000\000\377\016\003v\000\000\000\000\000\372" region_epoch {conf_ver: 269 version: 1129} peers {id: 77465 store_id: 7783} peers {id: 77466 store_id: 14379} peers {id: 77468 store_id: 13892} peers {id: 87294 store_id: 1} peers {id: 90912 store_id: 12914}
2018/11/14 09:44:49.377 store.rs:1464: [INFO] [region 77463] 77466 notify pd with change peer region id: 77463 start_key: "t\200\000\000\000\000\000\023\377\021_r\200\000\000\000\000\377\010\tj\000\000\000\000\000\372" end_key: "t\200\000\000\000\000\000\023\377\021_r\200\000\000\000\000\377\016\003v\000\000\000\000\000\372" region_epoch {conf_ver: 270 version: 1129} peers {id: 77465 store_id: 7783} peers {id: 77466 store_id: 14379} peers {id: 77468 store_id: 13892} peers {id: 87294 store_id: 1} peers {id: 90912 store_id: 12914} peers {id: 91078 store_id: 2}
2018/11/14 09:44:49.943 apply.rs:902: [INFO] [region 74964] 81393 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91080 store_id: 1}} at [term: 73, index: 142]
2018/11/14 09:44:49.943 apply.rs:949: [INFO] [region 74964] 81393 exec ConfChange "AddNode", epoch: conf_ver: 275 version: 1070
2018/11/14 09:44:49.943 apply.rs:991: [INFO] [region 74964] 81393 add peer id: 91080 store_id: 1 to region id: 74964 start_key: "t\200\000\000\000\000\000\022\377+\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377-\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 275 version: 1070} peers {id: 77256 store_id: 13892} peers {id: 78354 store_id: 7783} peers {id: 81393 store_id: 14379} peers {id: 90861 store_id: 12914} peers {id: 91063 store_id: 2}
2018/11/14 09:44:50.114 peer_storage.rs:724: [INFO] [region 77107] 77111 requesting snapshot...
2018/11/14 09:44:50.118 peer_storage.rs:724: [INFO] [region 3045] 75670 requesting snapshot...
2018/11/14 09:44:50.120 snap.rs:753: [INFO] [region 3045] scan snapshot /data-tikv/data/snap/gen_3045_11178_11570_(default|lock|write).sst, cf default, key count 0, size 0
2018/11/14 09:44:50.120 snap.rs:753: [INFO] [region 3045] scan snapshot /data-tikv/data/snap/gen_3045_11178_11570_(default|lock|write).sst, cf lock, key count 0, size 0
2018/11/14 09:44:50.120 snap.rs:753: [INFO] [region 3045] scan snapshot /data-tikv/data/snap/gen_3045_11178_11570_(default|lock|write).sst, cf write, key count 0, size 0
2018/11/14 09:44:50.123 snap.rs:854: [INFO] [region 3045] scan snapshot /data-tikv/data/snap/gen_3045_11178_11570_(default|lock|write).sst, size 1, key count 0, takes Duration { secs: 0, nanos: 3362345 }
2018/11/14 09:44:50.153 snap.rs:753: [INFO] [region 77107] scan snapshot /data-tikv/data/snap/gen_77107_7_35_(default|lock|write).sst, cf default, key count 11700, size 3170060
2018/11/14 09:44:50.154 snap.rs:753: [INFO] [region 77107] scan snapshot /data-tikv/data/snap/gen_77107_7_35_(default|lock|write).sst, cf lock, key count 0, size 0
2018/11/14 09:44:50.235 snap.rs:753: [INFO] [region 77107] scan snapshot /data-tikv/data/snap/gen_77107_7_35_(default|lock|write).sst, cf write, key count 58500, size 4279104
2018/11/14 09:44:50.276 snap.rs:854: [INFO] [region 77107] scan snapshot /data-tikv/data/snap/gen_77107_7_35_(default|lock|write).sst, size 3056063, key count 70200, takes Duration { secs: 0, nanos: 158069870 }
2018/11/14 09:44:51.127 peer_storage.rs:724: [INFO] [region 400] 68572 requesting snapshot...
2018/11/14 09:44:51.127 peer_storage.rs:724: [INFO] [region 76995] 76999 requesting snapshot...
2018/11/14 09:44:51.128 peer_storage.rs:724: [INFO] [region 77463] 77466 requesting snapshot...
2018/11/14 09:44:51.129 snap.rs:753: [INFO] [region 400] scan snapshot /data-tikv/data/snap/gen_400_12271_12697_(default|lock|write).sst, cf default, key count 0, size 0
2018/11/14 09:44:51.129 snap.rs:753: [INFO] [region 400] scan snapshot /data-tikv/data/snap/gen_400_12271_12697_(default|lock|write).sst, cf lock, key count 0, size 0
2018/11/14 09:44:51.130 snap.rs:753: [INFO] [region 400] scan snapshot /data-tikv/data/snap/gen_400_12271_12697_(default|lock|write).sst, cf write, key count 0, size 0
2018/11/14 09:44:51.131 snap.rs:854: [INFO] [region 400] scan snapshot /data-tikv/data/snap/gen_400_12271_12697_(default|lock|write).sst, size 1, key count 0, takes Duration { secs: 0, nanos: 2069723 }
2018/11/14 09:44:51.203 snap.rs:753: [INFO] [region 76995] scan snapshot /data-tikv/data/snap/gen_76995_7_23_(default|lock|write).sst, cf default, key count 18000, size 4898319
2018/11/14 09:44:51.203 snap.rs:753: [INFO] [region 76995] scan snapshot /data-tikv/data/snap/gen_76995_7_23_(default|lock|write).sst, cf lock, key count 0, size 0
2018/11/14 09:44:51.382 snap.rs:753: [INFO] [region 76995] scan snapshot /data-tikv/data/snap/gen_76995_7_23_(default|lock|write).sst, cf write, key count 90000, size 6582816
2018/11/14 09:44:51.481 snap.rs:854: [INFO] [region 76995] scan snapshot /data-tikv/data/snap/gen_76995_7_23_(default|lock|write).sst, size 4414619, key count 108000, takes Duration { secs: 0, nanos: 352908343 }
2018/11/14 09:44:52.059 snap.rs:753: [INFO] [region 77463] scan snapshot /data-tikv/data/snap/gen_77463_6_17_(default|lock|write).sst, cf default, key count 363830, size 83926887
2018/11/14 09:44:52.060 snap.rs:753: [INFO] [region 77463] scan snapshot /data-tikv/data/snap/gen_77463_6_17_(default|lock|write).sst, cf lock, key count 0, size 0
2018/11/14 09:44:52.278 snap.rs:376: [INFO] [region 3045] sent snapshot 3045_11178_11570 [size: 1, dur: Duration { secs: 0, nanos: 38349993 }]
2018/11/14 09:44:52.295 snap.rs:753: [INFO] [region 77463] scan snapshot /data-tikv/data/snap/gen_77463_6_17_(default|lock|write).sst, cf write, key count 363830, size 16736180
2018/11/14 09:44:52.400 store.rs:521: [INFO] [region 3045] report snapshot status id: 91070 store_id: 2 Finish
2018/11/14 09:44:52.600 snap.rs:376: [INFO] [region 77107] sent snapshot 77107_7_35 [size: 3056063, dur: Duration { secs: 0, nanos: 362615605 }]
2018/11/14 09:44:52.638 snap.rs:854: [INFO] [region 77463] scan snapshot /data-tikv/data/snap/gen_77463_6_17_(default|lock|write).sst, size 44766102, key count 727660, takes Duration { secs: 1, nanos: 506204250 }
2018/11/14 09:44:52.639 store.rs:521: [INFO] [region 77107] report snapshot status id: 91072 store_id: 1 Finish
2018/11/14 09:44:53.579 snap.rs:376: [INFO] [region 400] sent snapshot 400_12271_12697 [size: 1, dur: Duration { secs: 0, nanos: 163073588 }]
2018/11/14 09:44:53.714 store.rs:521: [INFO] [region 400] report snapshot status id: 91073 store_id: 2 Finish
2018/11/14 09:44:54.060 apply.rs:902: [INFO] [region 6169] 68344 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90795 store_id: 12914}} at [term: 16677, index: 17170]
2018/11/14 09:44:54.060 apply.rs:949: [INFO] [region 6169] 68344 exec ConfChange "RemoveNode", epoch: conf_ver: 198 version: 615
2018/11/14 09:44:54.060 apply.rs:1034: [INFO] [region 6169] 68344 remove 90795 from region:id: 6169 start_key: "t\200\000\000\000\000\000\t\377&\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\t\377)\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 198 version: 615} peers {id: 54163 store_id: 12261} peers {id: 68344 store_id: 14379} peers {id: 75932 store_id: 7783} peers {id: 90338 store_id: 1} peers {id: 90795 store_id: 12914} peers {id: 91076 store_id: 2}
2018/11/14 09:44:54.061 apply.rs:902: [INFO] [region 1232] 61398 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90858 store_id: 12914}} at [term: 12834, index: 13277]
2018/11/14 09:44:54.061 apply.rs:949: [INFO] [region 1232] 61398 exec ConfChange "RemoveNode", epoch: conf_ver: 218 version: 291
2018/11/14 09:44:54.061 apply.rs:1034: [INFO] [region 1232] 61398 remove 90858 from region:id: 1232 start_key: "t\200\000\000\000\000\000\003\377Z\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\003\377]\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 218 version: 291} peers {id: 61077 store_id: 12261} peers {id: 61398 store_id: 14379} peers {id: 69664 store_id: 13892} peers {id: 88174 store_id: 1} peers {id: 90858 store_id: 12914} peers {id: 91066 store_id: 2}
2018/11/14 09:44:54.077 pd.rs:437: [INFO] [region 72469] try to change peer AddNode id: 91081 store_id: 2
2018/11/14 09:44:54.077 peer.rs:1755: [INFO] [region 72469] 72692 propose conf change AddNode peer 91081
2018/11/14 09:44:54.087 apply.rs:902: [INFO] [region 72469] 72692 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91081 store_id: 2}} at [term: 16, index: 9807]
2018/11/14 09:44:54.088 apply.rs:949: [INFO] [region 72469] 72692 exec ConfChange "AddNode", epoch: conf_ver: 247 version: 817
2018/11/14 09:44:54.088 apply.rs:991: [INFO] [region 72469] 72692 add peer id: 91081 store_id: 2 to region id: 72469 start_key: "t\200\000\000\000\000\000\r\377\202\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\r\377\213\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 247 version: 817} peers {id: 72470 store_id: 13892} peers {id: 72692 store_id: 14379} peers {id: 73251 store_id: 7783} peers {id: 89917 store_id: 1} peers {id: 90806 store_id: 12914}
2018/11/14 09:44:54.091 store.rs:1464: [INFO] [region 72469] 72692 notify pd with change peer region id: 72469 start_key: "t\200\000\000\000\000\000\r\377\202\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\r\377\213\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 248 version: 817} peers {id: 72470 store_id: 13892} peers {id: 72692 store_id: 14379} peers {id: 73251 store_id: 7783} peers {id: 89917 store_id: 1} peers {id: 90806 store_id: 12914} peers {id: 91081 store_id: 2}
2018/11/14 09:44:54.374 snap.rs:376: [INFO] [region 76995] sent snapshot 76995_7_23 [size: 4414619, dur: Duration { secs: 0, nanos: 956713302 }]
2018/11/14 09:44:54.401 store.rs:521: [INFO] [region 76995] report snapshot status id: 91067 store_id: 2 Finish
2018/11/14 09:44:54.681 pd.rs:437: [INFO] [region 77107] try to change peer RemoveNode id: 90883 store_id: 12914
2018/11/14 09:44:54.681 peer.rs:1755: [INFO] [region 77107] 77111 propose conf change RemoveNode peer 90883
2018/11/14 09:44:54.682 pd.rs:437: [INFO] [region 77107] try to change peer RemoveNode id: 90883 store_id: 12914
2018/11/14 09:44:54.688 peer.rs:1733: [INFO] [region 77107] 77111 there is a pending conf change, try later
2018/11/14 09:44:54.740 apply.rs:902: [INFO] [region 77107] 77111 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90883 store_id: 12914}} at [term: 7, index: 36]
2018/11/14 09:44:54.740 apply.rs:949: [INFO] [region 77107] 77111 exec ConfChange "RemoveNode", epoch: conf_ver: 284 version: 1115
2018/11/14 09:44:54.741 apply.rs:1034: [INFO] [region 77107] 77111 remove 90883 from region:id: 77107 start_key: "t\200\000\000\000\000\000\022\377\365\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377\367\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 284 version: 1115} peers {id: 77108 store_id: 12261} peers {id: 77110 store_id: 7783} peers {id: 77111 store_id: 14379} peers {id: 86794 store_id: 2} peers {id: 90883 store_id: 12914} peers {id: 91072 store_id: 1}
2018/11/14 09:44:54.742 store.rs:1464: [INFO] [region 77107] 77111 notify pd with change peer region id: 77107 start_key: "t\200\000\000\000\000\000\022\377\365\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377\367\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 285 version: 1115} peers {id: 77108 store_id: 12261} peers {id: 77110 store_id: 7783} peers {id: 77111 store_id: 14379} peers {id: 86794 store_id: 2} peers {id: 91072 store_id: 1}
2018/11/14 09:44:54.743 pd.rs:437: [INFO] [region 3045] try to change peer RemoveNode id: 90825 store_id: 12914
2018/11/14 09:44:54.743 peer.rs:1755: [INFO] [region 3045] 75670 propose conf change RemoveNode peer 90825
2018/11/14 09:44:54.743 pd.rs:437: [INFO] [region 3045] try to change peer RemoveNode id: 90825 store_id: 12914
2018/11/14 09:44:54.750 store.rs:1025: [INFO] [region 77107] raft message MsgAppendResponse is stale, current conf_ver: 285 version: 1115, ignore it
2018/11/14 09:44:54.750 peer.rs:1733: [INFO] [region 3045] 75670 there is a pending conf change, try later
2018/11/14 09:44:55.093 apply.rs:902: [INFO] [region 3045] 75670 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90825 store_id: 12914}} at [term: 11178, index: 11571]
2018/11/14 09:44:55.093 apply.rs:949: [INFO] [region 3045] 75670 exec ConfChange "RemoveNode", epoch: conf_ver: 194 version: 473
2018/11/14 09:44:55.094 apply.rs:1034: [INFO] [region 3045] 75670 remove 90825 from region:id: 3045 start_key: "t\200\000\000\000\000\000\006\377\263\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\006\377\266\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 194 version: 473} peers {id: 60915 store_id: 12261} peers {id: 71056 store_id: 13892} peers {id: 75670 store_id: 14379} peers {id: 79816 store_id: 1} peers {id: 90825 store_id: 12914} peers {id: 91070 store_id: 2}
2018/11/14 09:44:55.142 store.rs:1464: [INFO] [region 3045] 75670 notify pd with change peer region id: 3045 start_key: "t\200\000\000\000\000\000\006\377\263\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\006\377\266\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 195 version: 473} peers {id: 60915 store_id: 12261} peers {id: 71056 store_id: 13892} peers {id: 75670 store_id: 14379} peers {id: 79816 store_id: 1} peers {id: 91070 store_id: 2}
2018/11/14 09:44:55.157 pd.rs:437: [INFO] [region 73731] try to change peer AddNode id: 91085 store_id: 2
2018/11/14 09:44:55.158 peer.rs:1755: [INFO] [region 73731] 75895 propose conf change AddNode peer 91085
2018/11/14 09:44:55.162 apply.rs:902: [INFO] [region 73731] 75895 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91085 store_id: 2}} at [term: 21, index: 49]
2018/11/14 09:44:55.162 apply.rs:949: [INFO] [region 73731] 75895 exec ConfChange "AddNode", epoch: conf_ver: 263 version: 960
2018/11/14 09:44:55.162 apply.rs:991: [INFO] [region 73731] 75895 add peer id: 91085 store_id: 2 to region id: 73731 start_key: "t\200\000\000\000\000\000\020\377\036\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\020\377$\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 263 version: 960} peers {id: 73732 store_id: 12261} peers {id: 75895 store_id: 14379} peers {id: 77823 store_id: 7783} peers {id: 87323 store_id: 1} peers {id: 90903 store_id: 12914}
2018/11/14 09:44:55.225 store.rs:1464: [INFO] [region 73731] 75895 notify pd with change peer region id: 73731 start_key: "t\200\000\000\000\000\000\020\377\036\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\020\377$\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 264 version: 960} peers {id: 73732 store_id: 12261} peers {id: 75895 store_id: 14379} peers {id: 77823 store_id: 7783} peers {id: 87323 store_id: 1} peers {id: 90903 store_id: 12914} peers {id: 91085 store_id: 2}
2018/11/14 09:44:55.616 pd.rs:437: [INFO] [region 908] try to change peer AddNode id: 91090 store_id: 2
2018/11/14 09:44:55.617 peer.rs:1755: [INFO] [region 908] 75225 propose conf change AddNode peer 91090
2018/11/14 09:44:55.630 apply.rs:902: [INFO] [region 908] 75225 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91090 store_id: 2}} at [term: 14995, index: 15422]
2018/11/14 09:44:55.630 apply.rs:949: [INFO] [region 908] 75225 exec ConfChange "AddNode", epoch: conf_ver: 167 version: 210
2018/11/14 09:44:55.630 apply.rs:991: [INFO] [region 908] 75225 add peer id: 91090 store_id: 2 to region id: 908 start_key: "t\200\000\000\000\000\000\002\377l\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\002\377n\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 167 version: 210} peers {id: 57713 store_id: 13892} peers {id: 75225 store_id: 14379} peers {id: 81474 store_id: 12261} peers {id: 88283 store_id: 1} peers {id: 90855 store_id: 12914}
2018/11/14 09:44:55.631 store.rs:1464: [INFO] [region 908] 75225 notify pd with change peer region id: 908 start_key: "t\200\000\000\000\000\000\002\377l\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\002\377n\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 168 version: 210} peers {id: 57713 store_id: 13892} peers {id: 75225 store_id: 14379} peers {id: 81474 store_id: 12261} peers {id: 88283 store_id: 1} peers {id: 90855 store_id: 12914} peers {id: 91090 store_id: 2}
2018/11/14 09:44:56.176 pd.rs:437: [INFO] [region 400] try to change peer RemoveNode id: 90778 store_id: 12914
2018/11/14 09:44:56.176 peer.rs:1755: [INFO] [region 400] 68572 propose conf change RemoveNode peer 90778
2018/11/14 09:44:56.177 pd.rs:437: [INFO] [region 400] try to change peer RemoveNode id: 90778 store_id: 12914
2018/11/14 09:44:56.181 peer.rs:1733: [INFO] [region 400] 68572 there is a pending conf change, try later
2018/11/14 09:44:56.275 apply.rs:902: [INFO] [region 400] 68572 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90778 store_id: 12914}} at [term: 12271, index: 12698]
2018/11/14 09:44:56.276 apply.rs:949: [INFO] [region 400] 68572 exec ConfChange "RemoveNode", epoch: conf_ver: 194 version: 83
2018/11/14 09:44:56.276 apply.rs:1034: [INFO] [region 400] 68572 remove 90778 from region:id: 400 start_key: "t\200\000\000\000\000\000\001\3776\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\001\3779\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 194 version: 83} peers {id: 63399 store_id: 13892} peers {id: 68572 store_id: 14379} peers {id: 69621 store_id: 12261} peers {id: 89425 store_id: 1} peers {id: 90778 store_id: 12914} peers {id: 91073 store_id: 2}
2018/11/14 09:44:56.275 peer_storage.rs:724: [INFO] [region 73731] 75895 requesting snapshot...
2018/11/14 09:44:56.277 peer_storage.rs:724: [INFO] [region 72469] 72692 requesting snapshot...
2018/11/14 09:44:56.277 store.rs:1464: [INFO] [region 400] 68572 notify pd with change peer region id: 400 start_key: "t\200\000\000\000\000\000\001\3776\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\001\3779\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 195 version: 83} peers {id: 63399 store_id: 13892} peers {id: 68572 store_id: 14379} peers {id: 69621 store_id: 12261} peers {id: 89425 store_id: 1} peers {id: 91073 store_id: 2}
2018/11/14 09:44:56.277 store.rs:1025: [INFO] [region 400] raft message MsgHeartbeatResponse is stale, current conf_ver: 195 version: 83, ignore it
2018/11/14 09:44:56.279 snap.rs:753: [INFO] [region 73731] scan snapshot /data-tikv/data/snap/gen_73731_21_49_(default|lock|write).sst, cf default, key count 1, size 165
2018/11/14 09:44:56.280 snap.rs:753: [INFO] [region 73731] scan snapshot /data-tikv/data/snap/gen_73731_21_49_(default|lock|write).sst, cf lock, key count 0, size 0
2018/11/14 09:44:56.281 snap.rs:753: [INFO] [region 73731] scan snapshot /data-tikv/data/snap/gen_73731_21_49_(default|lock|write).sst, cf write, key count 6, size 584
2018/11/14 09:44:56.285 snap.rs:753: [INFO] [region 72469] scan snapshot /data-tikv/data/snap/gen_72469_16_9807_(default|lock|write).sst, cf default, key count 1849, size 446418
2018/11/14 09:44:56.285 snap.rs:753: [INFO] [region 72469] scan snapshot /data-tikv/data/snap/gen_72469_16_9807_(default|lock|write).sst, cf lock, key count 0, size 0
2018/11/14 09:44:56.290 snap.rs:854: [INFO] [region 73731] scan snapshot /data-tikv/data/snap/gen_73731_21_49_(default|lock|write).sst, size 3469, key count 7, takes Duration { secs: 0, nanos: 11825083 }
2018/11/14 09:44:56.296 pd.rs:437: [INFO] [region 1236] try to change peer AddNode id: 91091 store_id: 2
2018/11/14 09:44:56.296 peer.rs:1755: [INFO] [region 1236] 68429 propose conf change AddNode peer 91091
2018/11/14 09:44:56.307 apply.rs:902: [INFO] [region 1236] 68429 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91091 store_id: 2}} at [term: 15209, index: 15695]
2018/11/14 09:44:56.307 apply.rs:949: [INFO] [region 1236] 68429 exec ConfChange "AddNode", epoch: conf_ver: 211 version: 292
2018/11/14 09:44:56.307 apply.rs:991: [INFO] [region 1236] 68429 add peer id: 91091 store_id: 2 to region id: 1236 start_key: "t\200\000\000\000\000\000\003\377]\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\003\377`\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 211 version: 292} peers {id: 68429 store_id: 14379} peers {id: 75857 store_id: 7783} peers {id: 78433 store_id: 12261} peers {id: 89038 store_id: 1} peers {id: 90868 store_id: 12914}
2018/11/14 09:44:56.310 store.rs:1464: [INFO] [region 1236] 68429 notify pd with change peer region id: 1236 start_key: "t\200\000\000\000\000\000\003\377]\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\003\377`\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 212 version: 292} peers {id: 68429 store_id: 14379} peers {id: 75857 store_id: 7783} peers {id: 78433 store_id: 12261} peers {id: 89038 store_id: 1} peers {id: 90868 store_id: 12914} peers {id: 91091 store_id: 2}
2018/11/14 09:44:56.311 apply.rs:902: [INFO] [region 1264] 75474 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91092 store_id: 2}} at [term: 13338, index: 13768]
2018/11/14 09:44:56.311 apply.rs:949: [INFO] [region 1264] 75474 exec ConfChange "AddNode", epoch: conf_ver: 197 version: 299
2018/11/14 09:44:56.312 apply.rs:991: [INFO] [region 1264] 75474 add peer id: 91092 store_id: 2 to region id: 1264 start_key: "t\200\000\000\000\000\000\003\377r\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\003\377u\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 197 version: 299} peers {id: 69820 store_id: 7783} peers {id: 75474 store_id: 14379} peers {id: 77042 store_id: 13892} peers {id: 86826 store_id: 1} peers {id: 90729 store_id: 12914}
2018/11/14 09:44:56.313 snap.rs:753: [INFO] [region 72469] scan snapshot /data-tikv/data/snap/gen_72469_16_9807_(default|lock|write).sst, cf write, key count 20339, size 1497360
2018/11/14 09:44:56.333 snap.rs:854: [INFO] [region 72469] scan snapshot /data-tikv/data/snap/gen_72469_16_9807_(default|lock|write).sst, size 595988, key count 22188, takes Duration { secs: 0, nanos: 54652024 }
2018/11/14 09:44:56.389 apply.rs:902: [INFO] [region 74964] 81393 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90861 store_id: 12914}} at [term: 73, index: 143]
2018/11/14 09:44:56.390 apply.rs:949: [INFO] [region 74964] 81393 exec ConfChange "RemoveNode", epoch: conf_ver: 276 version: 1070
2018/11/14 09:44:56.390 apply.rs:1034: [INFO] [region 74964] 81393 remove 90861 from region:id: 74964 start_key: "t\200\000\000\000\000\000\022\377+\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377-\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 276 version: 1070} peers {id: 77256 store_id: 13892} peers {id: 78354 store_id: 7783} peers {id: 81393 store_id: 14379} peers {id: 90861 store_id: 12914} peers {id: 91063 store_id: 2} peers {id: 91080 store_id: 1}
2018/11/14 09:44:56.413 pd.rs:437: [INFO] [region 76977] try to change peer AddNode id: 91093 store_id: 2
2018/11/14 09:44:56.413 peer.rs:1755: [INFO] [region 76977] 76981 propose conf change AddNode peer 91093
2018/11/14 09:44:56.418 store.rs:1025: [INFO] [region 400] raft message MsgAppendResponse is stale, current conf_ver: 195 version: 83, ignore it
2018/11/14 09:44:56.419 apply.rs:902: [INFO] [region 76977] 76981 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91093 store_id: 2}} at [term: 7, index: 29]
2018/11/14 09:44:56.419 apply.rs:949: [INFO] [region 76977] 76981 exec ConfChange "AddNode", epoch: conf_ver: 277 version: 1106
2018/11/14 09:44:56.419 apply.rs:991: [INFO] [region 76977] 76981 add peer id: 91093 store_id: 2 to region id: 76977 start_key: "t\200\000\000\000\000\000\022\377\335\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377\337\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 277 version: 1106} peers {id: 76980 store_id: 7783} peers {id: 76981 store_id: 14379} peers {id: 77025 store_id: 13892} peers {id: 86155 store_id: 1} peers {id: 90905 store_id: 12914}
2018/11/14 09:44:56.421 store.rs:1464: [INFO] [region 76977] 76981 notify pd with change peer region id: 76977 start_key: "t\200\000\000\000\000\000\022\377\335\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377\337\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 278 version: 1106} peers {id: 76980 store_id: 7783} peers {id: 76981 store_id: 14379} peers {id: 77025 store_id: 13892} peers {id: 86155 store_id: 1} peers {id: 90905 store_id: 12914} peers {id: 91093 store_id: 2}
2018/11/14 09:44:56.788 store.rs:1025: [INFO] [region 400] raft message MsgAppendResponse is stale, current conf_ver: 195 version: 83, ignore it
2018/11/14 09:44:56.803 peer_storage.rs:724: [INFO] [region 76977] 76981 requesting snapshot...
2018/11/14 09:44:56.805 peer_storage.rs:724: [INFO] [region 908] 75225 requesting snapshot...
2018/11/14 09:44:56.807 snap.rs:753: [INFO] [region 908] scan snapshot /data-tikv/data/snap/gen_908_14995_15422_(default|lock|write).sst, cf default, key count 0, size 0
2018/11/14 09:44:56.807 snap.rs:753: [INFO] [region 908] scan snapshot /data-tikv/data/snap/gen_908_14995_15422_(default|lock|write).sst, cf lock, key count 0, size 0
2018/11/14 09:44:56.807 snap.rs:753: [INFO] [region 908] scan snapshot /data-tikv/data/snap/gen_908_14995_15422_(default|lock|write).sst, cf write, key count 0, size 0
2018/11/14 09:44:56.808 snap.rs:854: [INFO] [region 908] scan snapshot /data-tikv/data/snap/gen_908_14995_15422_(default|lock|write).sst, size 1, key count 0, takes Duration { secs: 0, nanos: 1779084 }
2018/11/14 09:44:56.864 snap.rs:753: [INFO] [region 76977] scan snapshot /data-tikv/data/snap/gen_76977_7_29_(default|lock|write).sst, cf default, key count 13138, size 3574972
2018/11/14 09:44:56.864 snap.rs:753: [INFO] [region 76977] scan snapshot /data-tikv/data/snap/gen_76977_7_29_(default|lock|write).sst, cf lock, key count 0, size 0
2018/11/14 09:44:56.928 snap.rs:753: [INFO] [region 76977] scan snapshot /data-tikv/data/snap/gen_76977_7_29_(default|lock|write).sst, cf write, key count 65690, size 4799724
2018/11/14 09:44:56.960 snap.rs:854: [INFO] [region 76977] scan snapshot /data-tikv/data/snap/gen_76977_7_29_(default|lock|write).sst, size 3184296, key count 78828, takes Duration { secs: 0, nanos: 155866176 }
2018/11/14 09:44:57.780 snap.rs:376: [INFO] [region 77463] sent snapshot 77463_6_17 [size: 44766102, dur: Duration { secs: 4, nanos: 355771732 }]
2018/11/14 09:44:57.804 store.rs:521: [INFO] [region 77463] report snapshot status id: 91078 store_id: 2 Finish
2018/11/14 09:44:57.927 peer_storage.rs:724: [INFO] [region 1236] 68429 requesting snapshot...
2018/11/14 09:44:57.929 snap.rs:753: [INFO] [region 1236] scan snapshot /data-tikv/data/snap/gen_1236_15209_15695_(default|lock|write).sst, cf default, key count 0, size 0
2018/11/14 09:44:57.930 snap.rs:753: [INFO] [region 1236] scan snapshot /data-tikv/data/snap/gen_1236_15209_15695_(default|lock|write).sst, cf lock, key count 0, size 0
2018/11/14 09:44:57.931 snap.rs:753: [INFO] [region 1236] scan snapshot /data-tikv/data/snap/gen_1236_15209_15695_(default|lock|write).sst, cf write, key count 0, size 0
2018/11/14 09:44:57.932 snap.rs:854: [INFO] [region 1236] scan snapshot /data-tikv/data/snap/gen_1236_15209_15695_(default|lock|write).sst, size 1, key count 0, takes Duration { secs: 0, nanos: 2887421 }
2018/11/14 09:44:57.938 pd.rs:437: [INFO] [region 76995] try to change peer RemoveNode id: 90916 store_id: 12914
2018/11/14 09:44:57.938 pd.rs:437: [INFO] [region 76995] try to change peer RemoveNode id: 90916 store_id: 12914
2018/11/14 09:44:57.938 peer.rs:1755: [INFO] [region 76995] 76999 propose conf change RemoveNode peer 90916
2018/11/14 09:44:57.944 peer.rs:1733: [INFO] [region 76995] 76999 there is a pending conf change, try later
2018/11/14 09:44:58.025 apply.rs:902: [INFO] [region 76995] 76999 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90916 store_id: 12914}} at [term: 7, index: 24]
2018/11/14 09:44:58.025 apply.rs:949: [INFO] [region 76995] 76999 exec ConfChange "RemoveNode", epoch: conf_ver: 272 version: 1109
2018/11/14 09:44:58.025 apply.rs:1034: [INFO] [region 76995] 76999 remove 90916 from region:id: 76995 start_key: "t\200\000\000\000\000\000\022\377\343\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377\345\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 272 version: 1109} peers {id: 76996 store_id: 12261} peers {id: 76998 store_id: 7783} peers {id: 76999 store_id: 14379} peers {id: 88908 store_id: 1} peers {id: 90916 store_id: 12914} peers {id: 91067 store_id: 2}
2018/11/14 09:44:58.026 store.rs:1464: [INFO] [region 76995] 76999 notify pd with change peer region id: 76995 start_key: "t\200\000\000\000\000\000\022\377\343\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377\345\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 273 version: 1109} peers {id: 76996 store_id: 12261} peers {id: 76998 store_id: 7783} peers {id: 76999 store_id: 14379} peers {id: 88908 store_id: 1} peers {id: 91067 store_id: 2}
2018/11/14 09:44:58.027 snap.rs:376: [INFO] [region 73731] sent snapshot 73731_21_49 [size: 3469, dur: Duration { secs: 0, nanos: 98035258 }]
2018/11/14 09:44:58.029 store.rs:521: [INFO] [region 73731] report snapshot status id: 91085 store_id: 2 Finish
2018/11/14 09:44:58.030 store.rs:1025: [INFO] [region 76995] raft message MsgAppendResponse is stale, current conf_ver: 273 version: 1109, ignore it
2018/11/14 09:44:58.228 snap.rs:376: [INFO] [region 72469] sent snapshot 72469_16_9807 [size: 595988, dur: Duration { secs: 0, nanos: 299952270 }]
2018/11/14 09:44:58.250 store.rs:521: [INFO] [region 72469] report snapshot status id: 91081 store_id: 2 Finish
2018/11/14 09:44:59.246 snap.rs:376: [INFO] [region 908] sent snapshot 908_14995_15422 [size: 1, dur: Duration { secs: 0, nanos: 150878264 }]
2018/11/14 09:44:59.268 store.rs:521: [INFO] [region 908] report snapshot status id: 91090 store_id: 2 Finish
2018/11/14 09:44:59.479 apply.rs:902: [INFO] [region 71794] 71795 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91096 store_id: 1}} at [term: 13, index: 57]
2018/11/14 09:44:59.479 apply.rs:949: [INFO] [region 71794] 71795 exec ConfChange "AddNode", epoch: conf_ver: 257 version: 773
2018/11/14 09:44:59.479 apply.rs:991: [INFO] [region 71794] 71795 add peer id: 91096 store_id: 1 to region id: 71794 start_key: "t\200\000\000\000\000\000\014\377\210\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\014\377\220\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 257 version: 773} peers {id: 71795 store_id: 14379} peers {id: 71798 store_id: 7783} peers {id: 78010 store_id: 13892} peers {id: 90513 store_id: 2} peers {id: 90888 store_id: 12914}
2018/11/14 09:44:59.491 snap.rs:376: [INFO] [region 76977] sent snapshot 76977_7_29 [size: 3184296, dur: Duration { secs: 0, nanos: 395686578 }]
2018/11/14 09:44:59.620 store.rs:521: [INFO] [region 76977] report snapshot status id: 91093 store_id: 2 Finish
2018/11/14 09:45:00.194 pd.rs:437: [INFO] [region 77463] try to change peer RemoveNode id: 90912 store_id: 12914
2018/11/14 09:45:00.195 peer.rs:1755: [INFO] [region 77463] 77466 propose conf change RemoveNode peer 90912
2018/11/14 09:45:00.195 pd.rs:437: [INFO] [region 77463] try to change peer RemoveNode id: 90912 store_id: 12914
2018/11/14 09:45:00.195 pd.rs:437: [INFO] [region 72469] try to change peer RemoveNode id: 90806 store_id: 12914
2018/11/14 09:45:00.195 pd.rs:437: [INFO] [region 73731] try to change peer RemoveNode id: 90903 store_id: 12914
2018/11/14 09:45:00.196 pd.rs:437: [INFO] [region 72469] try to change peer RemoveNode id: 90806 store_id: 12914
2018/11/14 09:45:00.196 pd.rs:437: [INFO] [region 73731] try to change peer RemoveNode id: 90903 store_id: 12914
2018/11/14 09:45:00.201 peer.rs:1733: [INFO] [region 77463] 77466 there is a pending conf change, try later
2018/11/14 09:45:00.201 peer.rs:1755: [INFO] [region 72469] 72692 propose conf change RemoveNode peer 90806
2018/11/14 09:45:00.202 peer.rs:1755: [INFO] [region 73731] 75895 propose conf change RemoveNode peer 90903
2018/11/14 09:45:00.202 peer.rs:1733: [INFO] [region 72469] 72692 there is a pending conf change, try later
2018/11/14 09:45:00.202 peer.rs:1733: [INFO] [region 73731] 75895 there is a pending conf change, try later
2018/11/14 09:45:00.396 apply.rs:902: [INFO] [region 77463] 77466 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90912 store_id: 12914}} at [term: 6, index: 18]
2018/11/14 09:45:00.396 apply.rs:949: [INFO] [region 77463] 77466 exec ConfChange "RemoveNode", epoch: conf_ver: 270 version: 1129
2018/11/14 09:45:00.396 apply.rs:1034: [INFO] [region 77463] 77466 remove 90912 from region:id: 77463 start_key: "t\200\000\000\000\000\000\023\377\021_r\200\000\000\000\000\377\010\tj\000\000\000\000\000\372" end_key: "t\200\000\000\000\000\000\023\377\021_r\200\000\000\000\000\377\016\003v\000\000\000\000\000\372" region_epoch {conf_ver: 270 version: 1129} peers {id: 77465 store_id: 7783} peers {id: 77466 store_id: 14379} peers {id: 77468 store_id: 13892} peers {id: 87294 store_id: 1} peers {id: 90912 store_id: 12914} peers {id: 91078 store_id: 2}
2018/11/14 09:45:00.397 store.rs:1464: [INFO] [region 77463] 77466 notify pd with change peer region id: 77463 start_key: "t\200\000\000\000\000\000\023\377\021_r\200\000\000\000\000\377\010\tj\000\000\000\000\000\372" end_key: "t\200\000\000\000\000\000\023\377\021_r\200\000\000\000\000\377\016\003v\000\000\000\000\000\372" region_epoch {conf_ver: 271 version: 1129} peers {id: 77465 store_id: 7783} peers {id: 77466 store_id: 14379} peers {id: 77468 store_id: 13892} peers {id: 87294 store_id: 1} peers {id: 91078 store_id: 2}
2018/11/14 09:45:00.409 pd.rs:437: [INFO] [region 72550] try to change peer AddNode id: 91097 store_id: 2
2018/11/14 09:45:00.409 peer.rs:1755: [INFO] [region 72550] 72826 propose conf change AddNode peer 91097
2018/11/14 09:45:00.413 apply.rs:902: [INFO] [region 72550] 72826 execute admin command cmd_type: ChangePeer change_peer {peer {id: 91097 store_id: 2}} at [term: 17, index: 61]
2018/11/14 09:45:00.413 apply.rs:949: [INFO] [region 72550] 72826 exec ConfChange "AddNode", epoch: conf_ver: 259 version: 828
2018/11/14 09:45:00.413 apply.rs:991: [INFO] [region 72550] 72826 add peer id: 91097 store_id: 2 to region id: 72550 start_key: "t\200\000\000\000\000\000\r\377\273\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\r\377\301\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 259 version: 828} peers {id: 72553 store_id: 7783} peers {id: 72826 store_id: 14379} peers {id: 78522 store_id: 13892} peers {id: 90429 store_id: 1} peers {id: 90787 store_id: 12914}
2018/11/14 09:45:00.414 store.rs:1464: [INFO] [region 72550] 72826 notify pd with change peer region id: 72550 start_key: "t\200\000\000\000\000\000\r\377\273\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\r\377\301\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 260 version: 828} peers {id: 72553 store_id: 7783} peers {id: 72826 store_id: 14379} peers {id: 78522 store_id: 13892} peers {id: 90429 store_id: 1} peers {id: 90787 store_id: 12914} peers {id: 91097 store_id: 2}
2018/11/14 09:45:00.509 store.rs:1025: [INFO] [region 77463] raft message MsgAppendResponse is stale, current conf_ver: 271 version: 1129, ignore it
2018/11/14 09:45:00.823 apply.rs:902: [INFO] [region 72469] 72692 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90806 store_id: 12914}} at [term: 16, index: 9808]
2018/11/14 09:45:00.824 apply.rs:949: [INFO] [region 72469] 72692 exec ConfChange "RemoveNode", epoch: conf_ver: 248 version: 817
2018/11/14 09:45:00.824 apply.rs:1034: [INFO] [region 72469] 72692 remove 90806 from region:id: 72469 start_key: "t\200\000\000\000\000\000\r\377\202\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\r\377\213\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 248 version: 817} peers {id: 72470 store_id: 13892} peers {id: 72692 store_id: 14379} peers {id: 73251 store_id: 7783} peers {id: 89917 store_id: 1} peers {id: 90806 store_id: 12914} peers {id: 91081 store_id: 2}
2018/11/14 09:45:00.825 apply.rs:902: [INFO] [region 73731] 75895 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90903 store_id: 12914}} at [term: 21, index: 50]
2018/11/14 09:45:00.825 apply.rs:949: [INFO] [region 73731] 75895 exec ConfChange "RemoveNode", epoch: conf_ver: 264 version: 960
2018/11/14 09:45:00.825 store.rs:1464: [INFO] [region 72469] 72692 notify pd with change peer region id: 72469 start_key: "t\200\000\000\000\000\000\r\377\202\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\r\377\213\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 249 version: 817} peers {id: 72470 store_id: 13892} peers {id: 72692 store_id: 14379} peers {id: 73251 store_id: 7783} peers {id: 89917 store_id: 1} peers {id: 91081 store_id: 2}
2018/11/14 09:45:00.826 apply.rs:1034: [INFO] [region 73731] 75895 remove 90903 from region:id: 73731 start_key: "t\200\000\000\000\000\000\020\377\036\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\020\377$\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 264 version: 960} peers {id: 73732 store_id: 12261} peers {id: 75895 store_id: 14379} peers {id: 77823 store_id: 7783} peers {id: 87323 store_id: 1} peers {id: 90903 store_id: 12914} peers {id: 91085 store_id: 2}
2018/11/14 09:45:00.827 store.rs:1464: [INFO] [region 73731] 75895 notify pd with change peer region id: 73731 start_key: "t\200\000\000\000\000\000\020\377\036\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\020\377$\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 265 version: 960} peers {id: 73732 store_id: 12261} peers {id: 75895 store_id: 14379} peers {id: 77823 store_id: 7783} peers {id: 87323 store_id: 1} peers {id: 91085 store_id: 2}
2018/11/14 09:45:01.058 store.rs:1025: [INFO] [region 72469] raft message MsgAppendResponse is stale, current conf_ver: 249 version: 817, ignore it
2018/11/14 09:45:01.058 store.rs:1025: [INFO] [region 73731] raft message MsgAppendResponse is stale, current conf_ver: 265 version: 960, ignore it
2018/11/14 09:45:01.058 store.rs:1025: [INFO] [region 77463] raft message MsgAppendResponse is stale, current conf_ver: 271 version: 1129, ignore it
2018/11/14 09:45:01.233 snap.rs:376: [INFO] [region 1236] sent snapshot 1236_15209_15695 [size: 1, dur: Duration { secs: 1, nanos: 41738219 }]
2018/11/14 09:45:01.236 store.rs:521: [INFO] [region 1236] report snapshot status id: 91091 store_id: 2 Finish
2018/11/14 09:45:01.355 store.rs:1025: [INFO] [region 73731] raft message MsgAppendResponse is stale, current conf_ver: 265 version: 960, ignore it
2018/11/14 09:45:01.355 store.rs:1025: [INFO] [region 72469] raft message MsgAppendResponse is stale, current conf_ver: 249 version: 817, ignore it
2018/11/14 09:45:01.543 pd.rs:437: [INFO] [region 908] try to change peer RemoveNode id: 90855 store_id: 12914
2018/11/14 09:45:01.543 pd.rs:437: [INFO] [region 908] try to change peer RemoveNode id: 90855 store_id: 12914
2018/11/14 09:45:01.543 peer.rs:1755: [INFO] [region 908] 75225 propose conf change RemoveNode peer 90855
2018/11/14 09:45:01.549 peer.rs:1733: [INFO] [region 908] 75225 there is a pending conf change, try later
2018/11/14 09:45:01.946 apply.rs:902: [INFO] [region 908] 75225 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90855 store_id: 12914}} at [term: 14995, index: 15423]
2018/11/14 09:45:01.946 apply.rs:949: [INFO] [region 908] 75225 exec ConfChange "RemoveNode", epoch: conf_ver: 168 version: 210
2018/11/14 09:45:01.948 apply.rs:1034: [INFO] [region 908] 75225 remove 90855 from region:id: 908 start_key: "t\200\000\000\000\000\000\002\377l\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\002\377n\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 168 version: 210} peers {id: 57713 store_id: 13892} peers {id: 75225 store_id: 14379} peers {id: 81474 store_id: 12261} peers {id: 88283 store_id: 1} peers {id: 90855 store_id: 12914} peers {id: 91090 store_id: 2}
2018/11/14 09:45:01.949 apply.rs:902: [INFO] [region 1264] 75474 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90729 store_id: 12914}} at [term: 13338, index: 13769]
2018/11/14 09:45:01.949 apply.rs:949: [INFO] [region 1264] 75474 exec ConfChange "RemoveNode", epoch: conf_ver: 198 version: 299
2018/11/14 09:45:01.950 apply.rs:1034: [INFO] [region 1264] 75474 remove 90729 from region:id: 1264 start_key: "t\200\000\000\000\000\000\003\377r\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\003\377u\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 198 version: 299} peers {id: 69820 store_id: 7783} peers {id: 75474 store_id: 14379} peers {id: 77042 store_id: 13892} peers {id: 86826 store_id: 1} peers {id: 90729 store_id: 12914} peers {id: 91092 store_id: 2}
2018/11/14 09:45:01.949 store.rs:1464: [INFO] [region 908] 75225 notify pd with change peer region id: 908 start_key: "t\200\000\000\000\000\000\002\377l\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\002\377n\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 169 version: 210} peers {id: 57713 store_id: 13892} peers {id: 75225 store_id: 14379} peers {id: 81474 store_id: 12261} peers {id: 88283 store_id: 1} peers {id: 91090 store_id: 2}
2018/11/14 09:45:02.126 store.rs:1025: [INFO] [region 908] raft message MsgAppendResponse is stale, current conf_ver: 169 version: 210, ignore it
2018/11/14 09:45:02.255 store.rs:1025: [INFO] [region 908] raft message MsgAppendResponse is stale, current conf_ver: 169 version: 210, ignore it
2018/11/14 09:45:05.362 pd.rs:437: [INFO] [region 76977] try to change peer RemoveNode id: 90905 store_id: 12914
2018/11/14 09:45:05.362 peer.rs:1755: [INFO] [region 76977] 76981 propose conf change RemoveNode peer 90905
2018/11/14 09:45:05.364 pd.rs:437: [INFO] [region 76977] try to change peer RemoveNode id: 90905 store_id: 12914
2018/11/14 09:45:05.368 peer.rs:1733: [INFO] [region 76977] 76981 there is a pending conf change, try later
2018/11/14 09:45:05.441 apply.rs:902: [INFO] [region 76977] 76981 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90905 store_id: 12914}} at [term: 7, index: 30]
2018/11/14 09:45:05.442 apply.rs:949: [INFO] [region 76977] 76981 exec ConfChange "RemoveNode", epoch: conf_ver: 278 version: 1106
2018/11/14 09:45:05.442 apply.rs:1034: [INFO] [region 76977] 76981 remove 90905 from region:id: 76977 start_key: "t\200\000\000\000\000\000\022\377\335\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377\337\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 278 version: 1106} peers {id: 76980 store_id: 7783} peers {id: 76981 store_id: 14379} peers {id: 77025 store_id: 13892} peers {id: 86155 store_id: 1} peers {id: 90905 store_id: 12914} peers {id: 91093 store_id: 2}
2018/11/14 09:45:05.489 peer_storage.rs:724: [INFO] [region 72550] 72826 requesting snapshot...
2018/11/14 09:45:05.489 store.rs:1464: [INFO] [region 76977] 76981 notify pd with change peer region id: 76977 start_key: "t\200\000\000\000\000\000\022\377\335\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\022\377\337\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 279 version: 1106} peers {id: 76980 store_id: 7783} peers {id: 76981 store_id: 14379} peers {id: 77025 store_id: 13892} peers {id: 86155 store_id: 1} peers {id: 91093 store_id: 2}
2018/11/14 09:45:05.491 snap.rs:753: [INFO] [region 72550] scan snapshot /data-tikv/data/snap/gen_72550_17_61_(default|lock|write).sst, cf default, key count 0, size 0
2018/11/14 09:45:05.491 snap.rs:753: [INFO] [region 72550] scan snapshot /data-tikv/data/snap/gen_72550_17_61_(default|lock|write).sst, cf lock, key count 0, size 0
2018/11/14 09:45:05.492 snap.rs:753: [INFO] [region 72550] scan snapshot /data-tikv/data/snap/gen_72550_17_61_(default|lock|write).sst, cf write, key count 0, size 0
2018/11/14 09:45:05.493 snap.rs:854: [INFO] [region 72550] scan snapshot /data-tikv/data/snap/gen_72550_17_61_(default|lock|write).sst, size 1, key count 0, takes Duration { secs: 0, nanos: 2503328 }
2018/11/14 09:45:05.525 store.rs:1025: [INFO] [region 76977] raft message MsgAppendResponse is stale, current conf_ver: 279 version: 1106, ignore it
2018/11/14 09:45:05.525 store.rs:1025: [INFO] [region 76977] raft message MsgAppendResponse is stale, current conf_ver: 279 version: 1106, ignore it
2018/11/14 09:45:07.464 pd.rs:437: [INFO] [region 1236] try to change peer RemoveNode id: 90868 store_id: 12914
2018/11/14 09:45:07.464 peer.rs:1755: [INFO] [region 1236] 68429 propose conf change RemoveNode peer 90868
2018/11/14 09:45:07.465 pd.rs:437: [INFO] [region 1236] try to change peer RemoveNode id: 90868 store_id: 12914
2018/11/14 09:45:07.468 peer.rs:1733: [INFO] [region 1236] 68429 there is a pending conf change, try later
2018/11/14 09:45:08.443 snap.rs:376: [INFO] [region 72550] sent snapshot 72550_17_61 [size: 1, dur: Duration { secs: 0, nanos: 973899129 }]
2018/11/14 09:45:08.451 store.rs:521: [INFO] [region 72550] report snapshot status id: 91097 store_id: 2 Finish
2018/11/14 09:45:08.451 apply.rs:902: [INFO] [region 1236] 68429 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90868 store_id: 12914}} at [term: 15209, index: 15696]
2018/11/14 09:45:08.451 apply.rs:949: [INFO] [region 1236] 68429 exec ConfChange "RemoveNode", epoch: conf_ver: 212 version: 292
2018/11/14 09:45:08.451 apply.rs:1034: [INFO] [region 1236] 68429 remove 90868 from region:id: 1236 start_key: "t\200\000\000\000\000\000\003\377]\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\003\377`\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 212 version: 292} peers {id: 68429 store_id: 14379} peers {id: 75857 store_id: 7783} peers {id: 78433 store_id: 12261} peers {id: 89038 store_id: 1} peers {id: 90868 store_id: 12914} peers {id: 91091 store_id: 2}
2018/11/14 09:45:08.452 store.rs:1464: [INFO] [region 1236] 68429 notify pd with change peer region id: 1236 start_key: "t\200\000\000\000\000\000\003\377]\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\003\377`\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 213 version: 292} peers {id: 68429 store_id: 14379} peers {id: 75857 store_id: 7783} peers {id: 78433 store_id: 12261} peers {id: 89038 store_id: 1} peers {id: 91091 store_id: 2}
2018/11/14 09:45:09.261 store.rs:1025: [INFO] [region 1236] raft message MsgAppendResponse is stale, current conf_ver: 213 version: 292, ignore it
2018/11/14 09:45:09.261 store.rs:1025: [INFO] [region 1236] raft message MsgAppendResponse is stale, current conf_ver: 213 version: 292, ignore it
2018/11/14 09:45:09.669 pd.rs:437: [INFO] [region 72550] try to change peer RemoveNode id: 90787 store_id: 12914
2018/11/14 09:45:09.670 pd.rs:437: [INFO] [region 72550] try to change peer RemoveNode id: 90787 store_id: 12914
2018/11/14 09:45:09.670 peer.rs:1755: [INFO] [region 72550] 72826 propose conf change RemoveNode peer 90787
2018/11/14 09:45:09.677 peer.rs:1733: [INFO] [region 72550] 72826 there is a pending conf change, try later
2018/11/14 09:45:10.155 apply.rs:902: [INFO] [region 72550] 72826 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90787 store_id: 12914}} at [term: 17, index: 62]
2018/11/14 09:45:10.155 apply.rs:949: [INFO] [region 72550] 72826 exec ConfChange "RemoveNode", epoch: conf_ver: 260 version: 828
2018/11/14 09:45:10.155 apply.rs:1034: [INFO] [region 72550] 72826 remove 90787 from region:id: 72550 start_key: "t\200\000\000\000\000\000\r\377\273\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\r\377\301\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 260 version: 828} peers {id: 72553 store_id: 7783} peers {id: 72826 store_id: 14379} peers {id: 78522 store_id: 13892} peers {id: 90429 store_id: 1} peers {id: 90787 store_id: 12914} peers {id: 91097 store_id: 2}
2018/11/14 09:45:10.156 store.rs:1464: [INFO] [region 72550] 72826 notify pd with change peer region id: 72550 start_key: "t\200\000\000\000\000\000\r\377\273\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\r\377\301\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 261 version: 828} peers {id: 72553 store_id: 7783} peers {id: 72826 store_id: 14379} peers {id: 78522 store_id: 13892} peers {id: 90429 store_id: 1} peers {id: 91097 store_id: 2}
2018/11/14 09:45:10.302 store.rs:1025: [INFO] [region 72550] raft message MsgAppendResponse is stale, current conf_ver: 261 version: 828, ignore it
2018/11/14 09:45:10.302 store.rs:1025: [INFO] [region 72550] raft message MsgAppendResponse is stale, current conf_ver: 261 version: 828, ignore it
2018/11/14 09:45:10.515 apply.rs:902: [INFO] [region 72550] 72826 execute admin command cmd_type: CompactLog compact_log {compact_index: 61 compact_term: 17} at [term: 17, index: 63]
2018/11/14 09:45:10.789 apply.rs:902: [INFO] [region 71794] 71795 execute admin command cmd_type: ChangePeer change_peer {change_type: RemoveNode peer {id: 90888 store_id: 12914}} at [term: 13, index: 58]
2018/11/14 09:45:10.790 apply.rs:949: [INFO] [region 71794] 71795 exec ConfChange "RemoveNode", epoch: conf_ver: 258 version: 773
2018/11/14 09:45:10.790 apply.rs:1034: [INFO] [region 71794] 71795 remove 90888 from region:id: 71794 start_key: "t\200\000\000\000\000\000\014\377\210\000\000\000\000\000\000\000\370" end_key: "t\200\000\000\000\000\000\014\377\220\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 258 version: 773} peers {id: 71795 store_id: 14379} peers {id: 71798 store_id: 7783} peers {id: 78010 store_id: 13892} peers {id: 90513 store_id: 2} peers {id: 90888 store_id: 12914} peers {id: 91096 store_id: 1}

```
#### 官方对应解决方法

##### 9.2.1 ERROR 2013 (HY000): Lost connection to MySQL server during query 问题的排查方法？

- log 中是否有 panic
  
  未发现

- dmesg 中是否有 oom，命令： dmesg -T | grep -i oom
  
  内存当时确实存在飙升，但是未达到溢出的程度 87.5% 

- 长时间没有访问，也会收到这个报错，一般是 tcp 超时导致的，tcp 长时间不用, 会被操作系统 kill。
  
  略





